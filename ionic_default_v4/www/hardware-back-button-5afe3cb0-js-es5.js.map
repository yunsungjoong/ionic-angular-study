{"version":3,"sources":["webpack:///node_modules/@ionic/core/dist/esm/hardware-back-button-5afe3cb0.js"],"names":["startHardwareBackButton","doc","document","busy","addEventListener","handlers","ev","CustomEvent","bubbles","detail","register","priority","handler","push","dispatchEvent","length","selectedPriority","Number","MIN_SAFE_INTEGER","selectedHandler","forEach","executeAction","then","result","console","error"],"mappings":";;;;;;;;;;;;;;;;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAAA,UAAMA,uBAAuB,GAAG,SAA1BA,uBAA0B,GAAM;AAClC,YAAMC,GAAG,GAAGC,QAAZ;AACA,YAAIC,IAAI,GAAG,KAAX;AACAF,WAAG,CAACG,gBAAJ,CAAqB,YAArB,EAAmC,YAAM;AACrC,cAAID,IAAJ,EAAU;AACN;AACH;;AACD,cAAME,QAAQ,GAAG,EAAjB;AACA,cAAMC,EAAE,GAAG,IAAIC,WAAJ,CAAgB,eAAhB,EAAiC;AACxCC,mBAAO,EAAE,KAD+B;AAExCC,kBAAM,EAAE;AACJC,sBADI,oBACKC,QADL,EACeC,OADf,EACwB;AACxBP,wBAAQ,CAACQ,IAAT,CAAc;AAAEF,0BAAQ,EAARA,QAAF;AAAYC,yBAAO,EAAPA;AAAZ,iBAAd;AACH;AAHG;AAFgC,WAAjC,CAAX;AAQAX,aAAG,CAACa,aAAJ,CAAkBR,EAAlB;;AACA,cAAID,QAAQ,CAACU,MAAT,GAAkB,CAAtB,EAAyB;AACrB,gBAAIC,gBAAgB,GAAGC,MAAM,CAACC,gBAA9B;AACA,gBAAIC,eAAJ;AACAd,oBAAQ,CAACe,OAAT,CAAiB,gBAA2B;AAAA,kBAAxBT,QAAwB,QAAxBA,QAAwB;AAAA,kBAAdC,OAAc,QAAdA,OAAc;;AACxC,kBAAID,QAAQ,IAAIK,gBAAhB,EAAkC;AAC9BA,gCAAgB,GAAGL,QAAnB;AACAQ,+BAAe,GAAGP,OAAlB;AACH;AACJ,aALD;AAMAT,gBAAI,GAAG,IAAP;AACAkB,yBAAa,CAACF,eAAD,CAAb,CAA+BG,IAA/B,CAAoC;AAAA,qBAAMnB,IAAI,GAAG,KAAb;AAAA,aAApC;AACH;AACJ,SA1BD;AA2BH,OA9BD;;AA+BA,UAAMkB,aAAa;AAAA,4EAAG,iBAAOT,OAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA,uBAEVA,OAFU;AAAA;AAAA;AAAA;;AAGJW,wBAHI,GAGKX,OAAO,EAHZ;;AAAA,wBAINW,MAAM,IAAI,IAJJ;AAAA;AAAA;AAAA;;AAAA;AAAA,yBAKAA,MALA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAUdC,yBAAO,CAACC,KAAR;;AAVc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAH;;AAAA,wBAAbJ,aAAa;AAAA;AAAA;AAAA,SAAnB","file":"hardware-back-button-5afe3cb0-js-es5.js","sourcesContent":["const startHardwareBackButton = () => {\r\n    const doc = document;\r\n    let busy = false;\r\n    doc.addEventListener('backbutton', () => {\r\n        if (busy) {\r\n            return;\r\n        }\r\n        const handlers = [];\r\n        const ev = new CustomEvent('ionBackButton', {\r\n            bubbles: false,\r\n            detail: {\r\n                register(priority, handler) {\r\n                    handlers.push({ priority, handler });\r\n                }\r\n            }\r\n        });\r\n        doc.dispatchEvent(ev);\r\n        if (handlers.length > 0) {\r\n            let selectedPriority = Number.MIN_SAFE_INTEGER;\r\n            let selectedHandler;\r\n            handlers.forEach(({ priority, handler }) => {\r\n                if (priority >= selectedPriority) {\r\n                    selectedPriority = priority;\r\n                    selectedHandler = handler;\r\n                }\r\n            });\r\n            busy = true;\r\n            executeAction(selectedHandler).then(() => busy = false);\r\n        }\r\n    });\r\n};\r\nconst executeAction = async (handler) => {\r\n    try {\r\n        if (handler) {\r\n            const result = handler();\r\n            if (result != null) {\r\n                await result;\r\n            }\r\n        }\r\n    }\r\n    catch (e) {\r\n        console.error(e);\r\n    }\r\n};\n\nexport { startHardwareBackButton };\n"]}